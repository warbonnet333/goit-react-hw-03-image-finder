{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGalerry.module.css","components/LoadButton/LoadButton.module.css","components/Spinner/Spinner.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/LoadButton/LoadButton.jsx","components/Spinner/Spinner.jsx","components/services/base.js","components/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","query","handleSubmit","handleChange","className","styles","SearchForm","onSubmit","type","SearchForm_button","SearchForm_button_label","onChange","SearchForm_input","value","autoComplete","autoFocus","placeholder","ImageGalleryItem","listItemRef","createRef","showSrc","current","props","openModal","dataset","sourse","this","webformatURL","largeImageURL","alt","onClick","src","data-sourse","ref","ImageGalleryItem_image","Component","Modal","modalRef","handleCloseModal","target","onClose","keyCloseModal","code","window","addEventListener","removeEventListener","img","Overlay","ImageGallery","state","isModalOpen","currentImg","imgSrc","setState","closeModal","prevProps","prevState","images","length","scrollTo","top","document","documentElement","scrollHeight","behavior","map","id","tags","key","LoadButton","Button","Spinner","loader","KEY","axios","require","App","page","prevQuery","isLoaded","largeLoaded","fetchImages","get","then","data","hits","catch","console","log","finally","e","preventDefault","loadMore","a","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9f5869c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3o_hD\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1G00k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2b8wQ\",\"Modal\":\"Modal_Modal__1DVVx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalerry_ImageGallery__3WXVH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadButton_Button__3assC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__1Zo21\"};","import React from \"react\"\r\nimport styles from \"./Searchbar.module.css\"\r\n\r\nconst Searchbar = ({ query, handleSubmit, handleChange }) => (\r\n  <header className={styles.Searchbar}>\r\n    <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n      <button type=\"submit\" className={styles.SearchForm_button}>\r\n        <span className={styles.SearchForm_button_label}>Search</span>\r\n      </button>\r\n\r\n      <input\r\n        onChange={handleChange}\r\n        className={styles.SearchForm_input}\r\n        type=\"text\"\r\n        value={query}\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n      />\r\n    </form>\r\n  </header>\r\n)\r\n\r\n\r\nexport default Searchbar\r\n\r\n","import React, { Component, createRef } from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\"\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  listItemRef = createRef()\r\n\r\n  showSrc = () => {\r\n    const { current } = this.listItemRef\r\n    this.props.openModal(current.dataset.sourse)\r\n  }\r\n\r\n  render() {\r\n    const { webformatURL, largeImageURL, alt } = this.props\r\n    return (\r\n      <li className={styles.ImageGalleryItem} onClick={this.showSrc}>\r\n        <img src={webformatURL} data-sourse={largeImageURL} alt={alt} ref={this.listItemRef} className={styles.ImageGalleryItem_image} />\r\n      </li>\r\n    )\r\n  }\r\n}\r\n","import React, { Component, createRef } from \"react\";\r\nimport styles from \"./Modal.module.css\"\r\n\r\nexport default class Modal extends Component {\r\n  modalRef = createRef()\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.keyCloseModal)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.keyCloseModal)\r\n  }\r\n\r\n  handleCloseModal = ({ target }) => {\r\n    const { current } = this.modalRef\r\n    if (current !== target) return\r\n    this.props.onClose()\r\n  }\r\n\r\n  keyCloseModal = ({ code }) => {\r\n    if (code !== 'Escape') return\r\n    this.props.onClose()\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { img } = this.props\r\n    return (\r\n      <div className={styles.Overlay} ref={this.modalRef} onClick={this.handleCloseModal}>\r\n        <div className={styles.Modal}>\r\n          <img src={img} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\"\r\nimport Modal from \"../Modal/Modal\"\r\nimport styles from \"./ImageGalerry.module.css\"\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    isModalOpen: false,\r\n    currentImg: \"\"\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    if (prevProps.images !== this.props.images && prevProps.images.length) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  openModal = (imgSrc) => this.setState({ isModalOpen: true, currentImg: imgSrc })\r\n\r\n\r\n  closeModal = () => this.setState({ isModalOpen: false })\r\n\r\n\r\n  render() {\r\n    const { isModalOpen, currentImg } = this.state\r\n    const { images } = this.props\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {images.map(({ id, webformatURL, largeImageURL, tags }) =>\r\n            <ImageGalleryItem key={id} webformatURL={webformatURL} largeImageURL={largeImageURL} alt={tags} openModal={this.openModal} />)}\r\n        </ul>\r\n        {isModalOpen && <Modal img={currentImg} onClose={this.closeModal} />}\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./LoadButton.module.css\";\r\n\r\nconst LoadButton = ({ onClick }) => <button className={styles.Button} type=\"button\" onClick={onClick} > Load more</button>\r\n\r\nexport default LoadButton","import React from \"react\";\r\nimport Loader from 'react-loader-spinner'\r\nimport styles from \"./Spinner.module.css\"\r\n\r\nconst Spinner = () =>\r\n  <div className={styles.loader}>\r\n    <Loader type=\"ThreeDots\" />\r\n  </div>\r\n\r\nexport default Spinner","const KEY = \"15346289-7d5d588dc5fcd032630ecbae2\";\r\nexport default KEY;\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\"\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\"\r\nimport LoadButton from \"./LoadButton/LoadButton\"\r\nimport Spinner from \"./Spinner/Spinner\"\r\n\r\nimport KEY from \"./services/base\"\r\nconst axios = require('axios');\r\n\r\n\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    query: \"\",\r\n    prevQuery: \"\",\r\n    isLoaded: false,\r\n    largeLoaded: false\r\n  }\r\n\r\n  fetchImages = (query, page = 1) => {\r\n    axios\r\n      .get(`https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n      .then(({ data }) => this.setState(({ images }) => (images.length ? { images: [...images, ...data.hits] } : { images: data.hits })))\r\n      .catch(console.log)\r\n      .finally(() => { this.setState({ isLoaded: false, largeLoaded: false }) })\r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    this.setState({ query: target.value, page: 1 })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    this.setState({ images: [], largeLoaded: true })\r\n    const { query, page } = this.state\r\n    this.fetchImages(query, page)\r\n    this.setState({ prevQuery: query, query: \"\" })\r\n  }\r\n\r\n  loadMore = async () => {\r\n    await this.setState(({ page }) => ({ page: page + 1, isLoaded: true }));\r\n    const { prevQuery, page } = this.state\r\n    this.fetchImages(prevQuery, page)\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { images, query, isLoaded, largeLoaded } = this.state\r\n    return (\r\n      <>\r\n        <Searchbar query={query} handleSubmit={this.handleSubmit} handleChange={this.handleChange} />\r\n        {largeLoaded && <Spinner />}\r\n        {!!images.length &&\r\n          <>\r\n            < ImageGallery images={images} />\r\n            {isLoaded ? <Spinner /> : <LoadButton onClick={this.loadMore} />}\r\n          </>}\r\n\r\n      </>\r\n    )\r\n  }\r\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2jzGs\",\"SearchForm\":\"Searchbar_SearchForm__1ahQV\",\"SearchForm_button\":\"Searchbar_SearchForm_button__-Hl1Q\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1O75D\",\"SearchForm_input\":\"Searchbar_SearchForm_input__SdjRN\"};"],"sourceRoot":""}